索引

    用来加快数据库查询的技术. 使用索引可以不再需要全表扫描, 从而极大的提高了数据库的检索能力.

    工作原理:
        在进行单表查询的时候, 如果我们希望找到表中的数据, 就需要检索每一行数据. 也就是通常所说的全表扫描.
        如果给列加上索引, 索引就会将数据列进行分类排序. 这样做就不会使查询是一行一行的检索匹配, 因为每一个分类都有相对应的位置, 我们可以知道匹配行在什么时候结束,
        从而跳过剩下的部分.

        对于不同类型的存储引擎, 索引实现的细节有所不同.
        MyISAM 类型数据表的数据行是在数据文件里, 而索引值实在索引文件里, 一个表可以有多个索引, 所有的索引都存储在同一个索引文件里.
        索引文件的每一个索引都是由分类的关键记录数组组成, 数组的检索效率通常是很高的.
        InnoDB的索引同样具备分类的特点. 默认情况下, InnoDB使用的是一个表空间, 这个表空间管理InnoDB数据表和索引的存储.

    使用方式:
        在where 子句后频繁使用的匹配条件应该建立索引
        在查询中与其他表关联的字段, 外键, 逻辑外键建立索引
        where后面用不到的字段不建议添加索引
        查询中需要统计或者分组的字段, 如需要使用MIN() MAX的字段
        查询中排序的字段, 这样可以极大的提高排序的效率, 因为所有本身就是分类和排序之后的序列
        尽量选择比较小的数据类型
            短小的数值会有更好的比较效率
            可以让索引所占的存储空间更少
            可以让键缓存里的索引块存储跟多的键值


    添加索引的建议:
        数据量不大的表不太需要添加索引
        频繁增删改的表, 不建议添加过多的索引, 因为在更新的同时, 索引也会更新
        如果某个数据列包含许多重复的内容，为它建立索引就没有太大的实际效果。因为重复的内容越多, 需要检索的数据行可能就会越多. 例如性别, 就算加了索引, 不管检索哪个值, 都会检索半数的数据行.

    索引的缺点:
        虽然索引加快了数据的检索, 但是却降低了在有索引数据列增删改的速度. 因为在这些操作中, 不但要更新数据列, 还要更新索引.

        对MyISAM来说 如果索引过多 会导致索引的数据比数据表的数据文件更快的达到数据表的最大长度限制
        InnoDB 中因为所有的数据表和索引文件共享同一个存储空间 过多的添加索引会更快的消耗用于存储的空间. 同样也会导致索引的数据比数据表的数据文件更快的达到数据表的最大长度限制
        虽然在理论上讲InnoDB的表空间可以被扩充.

    聚集索引:
        指的是将主键和数据行集中保存在一起的情况.

    二级索引:
        保存的是主键和二级索引


查询优化程序
    explain 的主要目的是只要可能就要使用索引, 并要求使用条件最严格的索引来尽可能多 尽可能快的排除那些不符合索引条件的数据行. 这样做的原因是 explain 从搜索范围中排除数据行的速度越快,
    找到那些与条件匹配的数据行就越快.

